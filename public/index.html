
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cálculo de Área (m²) - Polegadas</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f9f9f9; }
    input { padding: 5px; margin: 5px 0; width: 200px; }
    button { padding: 8px 12px; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>Cálculo de Área em m²</h2>
  <label>Largura (pol):</label><br>
  <input type="text" id="diametro" placeholder='ex: 2 ou 2 1/2'><br>

  <label>Espessura (pol):</label><br>
  <input type="text" id="espessura" placeholder='ex: 1/4 ou 3/8'><br>

  <label>Comprimento total (m):</label><br>
  <input type="number" id="quantidade" placeholder='ex: 142.5'><br>

  <button onclick="calcular()">Calcular</button>

  <h3>Resultado: <span id="resultado">0.00</span> m²</h3>
  <h3>Quantidade de barras (4,5 m² cada): <span id="barras">0</span></h3>

  <script>
    function parseFracao(valor) {
      if (valor.includes('/')) {
        let partes = valor.trim().split(' ');
        let total = 0;
        partes.forEach(p => {
          if (p.includes('/')) {
            let f = p.split('/');
            total += parseFloat(f[0]) / parseFloat(f[1]);
          } else {
            total += parseFloat(p);
          }
        });
        return total;
      }
      return parseFloat(valor);
    }

    function calcular() {
      let diam = parseFracao(document.getElementById("diametro").value);
      let esp = parseFracao(document.getElementById("espessura").value);
      let comprimento = parseFloat(document.getElementById("quantidade").value) || 0;

      let largura_m = diam * 25.4 / 1000;

      let area_total = largura_m * comprimento;
      let qtd_barras = Math.ceil(area_total / 4.5);

      document.getElementById("resultado").innerText = area_total.toFixed(2);
      document.getElementById("barras").innerText = qtd_barras;
    }
  </script>
</body>
</html>
